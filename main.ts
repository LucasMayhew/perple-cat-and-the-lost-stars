namespace SpriteKind {
    export const nothing = SpriteKind.create()
    export const star1 = SpriteKind.create()
    export const rod = SpriteKind.create()
    export const cat1 = SpriteKind.create()
    export const evelcat1 = SpriteKind.create()
}
sprites.onOverlap(SpriteKind.Player, SpriteKind.rod, function (sprite, otherSprite) {
    sprites.setDataBoolean(sprite, "magic", true)
    otherSprite.destroy()
})
controller.up.onEvent(ControllerButtonEvent.Pressed, function () {
    perplecat.setImage(img`
        a a . . a a 
        a a . . a a 
        a a a a a a 
        a a a a a a 
        a a a a a a 
        . a a a a . 
        a 9 9 9 9 a 
        a 9 9 9 9 a 
        a 9 9 9 9 a 
        . 9 9 9 9 . 
        9 9 9 9 9 9 
        . a . . a . 
        `)
    x = 3
})
controller.A.onEvent(ControllerButtonEvent.Pressed, function () {
    if (battle) {
    	
    } else {
        if (perplecat.tileKindAt(TileDirection.Center, myTiles.tile2)) {
            _1()
            sprites.setDataBoolean(perplecat, "go", true)
        }
        if (sprites.readDataBoolean(perplecat, "magic")) {
            if (x == 4) {
                projectile = sprites.createProjectileFromSprite(img`
                    . . . . . . . . . . . . . . . . 
                    . . . . . c c c c c c c . . . . 
                    . . . . c a a a a a a a c . . . 
                    . . . c a a c c a a a a a c . . 
                    . . c a a c a a a a a a a a c . 
                    . . c a c a a a a a a a a a c . 
                    . . c a c a a a a a a a a a c . 
                    . . c a a a a a a a a a a a c . 
                    . . c a a a a a a a a a a a c . 
                    . . c a a a a a a a a a a a c . 
                    . . c a a a a a a a a a a a c . 
                    . . . c a a a a a a a a a c . . 
                    . . . . c a a a a a a a c . . . 
                    . . . . . c c c c c c c . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    `, perplecat, -100, 0)
            } else if (x == 2) {
                projectile = sprites.createProjectileFromSprite(img`
                    . . . . . . . . . . . . . . . . 
                    . . . . c c c c c c c . . . . . 
                    . . . c a a a a a a a c . . . . 
                    . . c a a c c a a a a a c . . . 
                    . c a a c a a a a a a a a c . . 
                    . c a c a a a a a a a a a c . . 
                    . c a c a a a a a a a a a c . . 
                    . c a a a a a a a a a a a c . . 
                    . c a a a a a a a a a a a c . . 
                    . c a a a a a a a a a a a c . . 
                    . c a a a a a a a a a a a c . . 
                    . . c a a a a a a a a a c . . . 
                    . . . c a a a a a a a c . . . . 
                    . . . . c c c c c c c . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    `, perplecat, 0, 100)
            } else if (x == 1) {
                projectile = sprites.createProjectileFromSprite(img`
                    . . . . . . . . . . . . . . . . 
                    . . . . . c c c c c c c . . . . 
                    . . . . c a a a a a a a c . . . 
                    . . . c a a c c a a a a a c . . 
                    . . c a a c a a a a a a a a c . 
                    . . c a c a a a a a a a a a c . 
                    . . c a c a a a a a a a a a c . 
                    . . c a a a a a a a a a a a c . 
                    . . c a a a a a a a a a a a c . 
                    . . c a a a a a a a a a a a c . 
                    . . c a a a a a a a a a a a c . 
                    . . . c a a a a a a a a a c . . 
                    . . . . c a a a a a a a c . . . 
                    . . . . . c c c c c c c . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    `, perplecat, 100, 0)
            } else if (x == 3) {
                projectile = sprites.createProjectileFromSprite(img`
                    . . . . . . . . . . . . . . . . 
                    . . . . . c c c c c c c . . . . 
                    . . . . c a a a a a a a c . . . 
                    . . . c a a c c a a a a a c . . 
                    . . c a a c a a a a a a a a c . 
                    . . c a c a a a a a a a a a c . 
                    . . c a c a a a a a a a a a c . 
                    . . c a a a a a a a a a a a c . 
                    . . c a a a a a a a a a a a c . 
                    . . c a a a a a a a a a a a c . 
                    . . c a a a a a a a a a a a c . 
                    . . . c a a a a a a a a a c . . 
                    . . . . c a a a a a a a c . . . 
                    . . . . . c c c c c c c . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    `, perplecat, 0, -100)
            }
        }
    }
})
controller.left.onEvent(ControllerButtonEvent.Pressed, function () {
    perplecat.setImage(img`
        a a . . a a 
        a a . . a a 
        a a a a a a 
        f a a f a a 
        f a a f a a 
        . a a a a . 
        a 9 9 9 9 a 
        a 9 9 9 9 a 
        a 9 9 9 9 a 
        . 9 9 9 9 . 
        9 9 9 9 9 9 
        . a . . a . 
        `)
    x = 4
})
controller.right.onEvent(ControllerButtonEvent.Pressed, function () {
    perplecat.setImage(img`
        a a . . a a 
        a a . . a a 
        a a a a a a 
        a a f a a f 
        a a f a a f 
        . a a a a . 
        a 9 9 9 9 a 
        a 9 9 9 9 a 
        a 9 9 9 9 a 
        . 9 9 9 9 . 
        9 9 9 9 9 9 
        . a . . a . 
        `)
    x = 1
})
sprites.onOverlap(SpriteKind.Player, SpriteKind.cat1, function (sprite, otherSprite) {
    if (controller.A.isPressed()) {
        if (sprites.readDataBoolean(perplecat, "magic")) {
            game.setDialogFrame(img`
                ...cc..............................cc.....
                ..c55c..bbbb...bbbbb...bbbbb......c55c....
                .cb55bcbdddbbbbbdddbbbbbdddbbbbbbcb55bc...
                b555555bbdddb111bdddb111bdddb11db555555b..
                bb5555bbbbdb11111bdb11111bdb1111bb5555bb..
                cb5555bcddd11111ddd11111ddd11111cb5555bc..
                .c5bb5c1111d111d111d111d111d111ddc5bb5c...
                .cbbbbc11111111111111111111111111cbbbbc...
                ..b1111111111111111111111111111111dddbb...
                ..b11111111111111111111111111111111dbbdb..
                ..bb1111111111111111111111111111111dbddb..
                .bbdb1d1111111111111111111111111111ddddb..
                .bdddd1111111111111111111111111111d1bdbb..
                .bddbd1111111111111111111111111111111bb...
                .bdb1d11111111111111111111111111111111b...
                .bb111d1111111111111111111111111111111b...
                ..b1111111111111111111111111111111d111bb..
                ..b11111111111111111111111111111111d1bdb..
                ..bb1111111111111111111111111111111dbddb..
                .bbdb1d1111111111111111111111111111ddddb..
                .bdddd1111111111111111111111111111d1bdbb..
                .bddbd1111111111111111111111111111111bb...
                .bdb1d11111111111111111111111111111111b...
                .bb111d1111111111111111111111111111111b...
                ..b1111111111111111111111111111111d111bb..
                ..b11111111111111111111111111111111d1bdb..
                ..bb1111111111111111111111111111111dbddb..
                .bbdb1d1111111111111111111111111111ddddb..
                .bdddd1111111111111111111111111111d1bdbb..
                .bddbd1111111111111111111111111111111bb...
                .bdbb111111111111111111111111111111111b...
                .bbbd111111111111111111111111111111111b...
                ..bcc11111111111111111111111111111dccdb...
                ..c55c1111111d111d111d111d111d1111c55cb...
                .cb55bcdd11111ddd11111ddd11111dddcb55bc...
                b555555bd1111bdb11111bdb11111bdbb555555b..
                bb5555bbdd11bdddb111bdddb111bdddbb5555bb..
                cb5555bcbbbbbbdddbbbbbdddbbbbbddcb5555bc..
                .c5bb5c......bbbbb...bbbbb...bbbbc5bb5c...
                .cbbbbc..........................cbbbbc...
                ..........................................
                ..........................................
                `)
            game.showLongText("You have the rod that can brake this stone.                            Max", DialogLayout.Full)
        } else {
            game.setDialogFrame(img`
                ...cc..............................cc.....
                ..c55c..bbbb...bbbbb...bbbbb......c55c....
                .cb55bcbdddbbbbbdddbbbbbdddbbbbbbcb55bc...
                b555555bbdddb111bdddb111bdddb11db555555b..
                bb5555bbbbdb11111bdb11111bdb1111bb5555bb..
                cb5555bcddd11111ddd11111ddd11111cb5555bc..
                .c5bb5c1111d111d111d111d111d111ddc5bb5c...
                .cbbbbc11111111111111111111111111cbbbbc...
                ..b1111111111111111111111111111111dddbb...
                ..b11111111111111111111111111111111dbbdb..
                ..bb1111111111111111111111111111111dbddb..
                .bbdb1d1111111111111111111111111111ddddb..
                .bdddd1111111111111111111111111111d1bdbb..
                .bddbd1111111111111111111111111111111bb...
                .bdb1d11111111111111111111111111111111b...
                .bb111d1111111111111111111111111111111b...
                ..b1111111111111111111111111111111d111bb..
                ..b11111111111111111111111111111111d1bdb..
                ..bb1111111111111111111111111111111dbddb..
                .bbdb1d1111111111111111111111111111ddddb..
                .bdddd1111111111111111111111111111d1bdbb..
                .bddbd1111111111111111111111111111111bb...
                .bdb1d11111111111111111111111111111111b...
                .bb111d1111111111111111111111111111111b...
                ..b1111111111111111111111111111111d111bb..
                ..b11111111111111111111111111111111d1bdb..
                ..bb1111111111111111111111111111111dbddb..
                .bbdb1d1111111111111111111111111111ddddb..
                .bdddd1111111111111111111111111111d1bdbb..
                .bddbd1111111111111111111111111111111bb...
                .bdbb111111111111111111111111111111111b...
                .bbbd111111111111111111111111111111111b...
                ..bcc11111111111111111111111111111dccdb...
                ..c55c1111111d111d111d111d111d1111c55cb...
                .cb55bcdd11111ddd11111ddd11111dddcb55bc...
                b555555bd1111bdb11111bdb11111bdbb555555b..
                bb5555bbdd11bdddb111bdddb111bdddbb5555bb..
                cb5555bcbbbbbbdddbbbbbdddbbbbbddcb5555bc..
                .c5bb5c......bbbbb...bbbbb...bbbbc5bb5c...
                .cbbbbc..........................cbbbbc...
                ..........................................
                ..........................................
                `)
            game.showLongText("there is a rod that can brake this stone.                            Max", DialogLayout.Full)
            pause(500)
        }
    }
})
controller.down.onEvent(ControllerButtonEvent.Pressed, function () {
    perplecat.setImage(img`
        a a . . a a 
        a a . . a a 
        a a a a a a 
        a f a a f a 
        a f a a f a 
        . a a a a . 
        a 9 9 9 9 a 
        a 9 9 9 9 a 
        a 9 9 9 9 a 
        . 9 9 9 9 . 
        9 9 9 9 9 9 
        . a . . a . 
        `)
    x = 2
})
scene.onHitWall(SpriteKind.Projectile, function (sprite, location) {
    if (tiles.tileAtLocationEquals(location, sprites.dungeon.floorLight2)) {
        tiles.setWallAt(location, false)
        tiles.setTileAt(location, sprites.castle.tileGrass1)
    }
})
function start () {
    battle = false
    tiles.loadMap(tiles.createMap(tiles.createTilemap(hex`1000100003030303030303030303030303030303030102030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303`, img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        `, [myTiles.transparency16,myTiles.tile1,myTiles.tile2,myTiles.tile3], TileScale.Sixteen)))
    perplecat = sprites.create(img`
        a a . . a a 
        a a . . a a 
        a a a a a a 
        a f a a f a 
        a f a a f a 
        . a a a a . 
        a 9 9 9 9 a 
        a 9 9 9 9 a 
        a 9 9 9 9 a 
        . 9 9 9 9 . 
        9 9 9 9 9 9 
        . a . . a . 
        `, SpriteKind.Player)
    controller.moveSprite(perplecat)
    sprites.setDataBoolean(perplecat, "go", false)
    sprites.setDataBoolean(perplecat, "magic", false)
    scene.cameraFollowSprite(perplecat)
}
scene.onOverlapTile(SpriteKind.Player, sprites.dungeon.floorMixed, function (sprite, location) {
    for (let value of tiles.getTilesByType(sprites.dungeon.floorMixed)) {
        tiles.setTileAt(value, sprites.dungeon.floorDark2)
    }
    myEnemy = sprites.create(img`
        f f . . f f 
        f f . . f f 
        f f f f f f 
        b 2 b b 2 b 
        f f f f f f 
        . f f f f . 
        f f f f f f 
        f f f f f f 
        f f f f f f 
        f f f f f f 
        . f f f f . 
        . f . . f . 
        `, SpriteKind.evelcat1)
    myEnemy.follow(perplecat, 200)
    tiles.placeOnRandomTile(myEnemy, sprites.dungeon.floorDark0)
    pause(100)
    game.showLongText("You wont still this star.                            ?????", DialogLayout.Full)
})
function _1 () {
    scene.setBackgroundColor(7)
    game.showLongText("escape the forest!!!", DialogLayout.Bottom)
    tiles.loadMap(tiles.createMap(tiles.createTilemap(hex`64003c000101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010602020202020202020202020205010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010106020302020402020202020202050101010101010101010102020202020202020202020202020101010101010101010101010101010101010101010101010101010101010202020202020202020202020202020202020202020202020202010101010101060202020202020203020202020501010101010101010202020202020202020202020202020202010101010102020202020202020202020201010101010101010101010102020202020202020202020202020202020202020202020202020101010101010602020202020202020202020205010101010101010102020202020202020202020202020202020101010101020202020202020202020202010101010101010101010101020202020202020202020202020202020202020202020202020201010101010106020202020302020204020202050101010101010102020202020202020202020202020202020202020202020202020202020202020202020101010101010101010101010202020202020202020202020202020202020202020202020202010101010101060202020202020202020202020501010101010101020202020202020202020202020202020202010101010102020202020202020202020201010101010101010101010102020202020202020202020202161616020202020202020202020101010101010602040202020203020202020205010102020202020202020202020201010101010102020202020101010101020202020202020202020202010101010101010101010101020202020202021602020202020202020202020202020202020201010101010106020202020202020202040202020202020202020202020202020201010101010101010101010101010101010202020202070809020202020101010101010101010101010202020202021602020202020202020202021602020216020202010101010101060202020302020202020202020501010202020202020202020201010101010101010101010101010101010102020202020202020202020201010101010101010101010102020202021602030216020202020202151602020202160202020101010101010602020202020202020202020205010101010101010202020202010101010101010101010101010101010101020202020202020202020202010101010101010101010101020202020202020202020202020202020216020202020202020201010101010106020204020202040202030202050101010101010102020202020101010101010101010101010101010101010202020202020202020202020101010101010101010101010202020202020216020202020202020202020202020202020202010101010101060202020202030202020202020501010101010101020202020201010101010102020202020202010101010101020202020202020202020201010101010101010101010102020202020202021616020202020202020202020202020202020101010101010602020202020202020202020205010101010101010202020202010101010101020202020202020201010101010102020202020202020202010101010101010101010101020202020202020202020202161602020202020202020216020201010101010101010101010101010101010101010101010101010102020202020101010101010202020202020202020101010101010101010101010101010101010101010101010101010202020202020202020202020202020202020202020202020202010101010101010101010101010101010101010101010101010101020202020201010101010102020202020202020202010101010101010101010101010101010101010101010101010102020202020202020202020202020202020202160202020202020101010101010101010101010101010101010101010101010101010202020202020101010101020202020202020202020201010101010101010101010101010101010101010101010101020202020202020202020202020202020202020202020202020201010101010101010101010101010101010101010101010101010102020202020201010101010102020202020202020202010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101020202020202010101010101020202020202020202020201010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010202020202020101010101010202020202020202020202010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010202020202020201010101010101010101020202020201010101010102020202020202020202020201010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101020202020202020202020201010101010101010202020202010101010101020202020202020202020202010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010202020202020202020202020101010101010102020202020101010101010202020202020202020202020201010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010202020202020202020202020202020101010101020202020201010101010102020202020202020202020202010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010102020202020202020202020202020202010101010202020202010101010101020202020202020202020202020101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101020202020202020202020202020202020202010102020202020101010101010202020202020202020202020201010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010202020202020102020202020202020202020202020202020201010101010101020202020202020202020202010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010102020202020201010102020202020202020202020202020202010101010101010202020202020202020201010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010b01010101010102020202020202020202020202020101010101010101020202020202020202010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010102010101010101010202020202020202020202020201010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101020101010101010101010202020202020202020202010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010201010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010102010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101020101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010a01010101010101010101010101010101010101010101010101010101010101010101010101010101010101020202020201010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101020202020202020202020201010101010101010101010101010101010101010101010101010101010101010101010202020202020101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101020202020202020202020202020201010101010101010101010101010101010101010101010101010101010101010102020202020201010101010101010101010101010101010101010101010101010101010101010101010101010101010101010102020202020202020202020202020202020202010101010101010101010101010101010101010101010101010101010101020202020202010101010101010101010101010101010101010101010101010101010101010101010101010101010101010102020202020202020202020202020202020202020201010101010101010101010102020202020202020201010101010101010202020202020101010101010101010101010101010101010101010101010101010101010101010101010101010101010102020202020202020202020202020202020202020202020101010101010102020202020202020202020202020101010101010102020202020201010101010101010101010101010101010101010101010101010101010101010101010101010101010101020202020202020202020202020202020202020202020202010101010202020202020202020202020202020201010101010101020202020202010101010101010101010101010101010101010101010101010101010101010101010101010101010101010202020202020202020202020202020202020202020202020202020202020202020202020202020202020202010101010101010102020202020101010101010101010101010101010101010101010101010101010101010101010101010101010101010102020202020202020202020202020202020202020202020202020202020202020202020202020202020202020b0b0b0b0b0b0b0202020202020101010101010101010101010101010101010101010101010101010101010101010101010101010101010102020202020202020202020202020202020202020202020202020202020202020202020202020202020202020101010101010202020202020201010101010101010101010101010101010101010101010101010101010101010101010101010101010101020202020202020202020202020202020202020202020202020202020202020202020202020202020202020201010101010102020202020202010101010101010101010101010101010101010101010101010101010101010101010101010101010101010202020202020202020202020202020202020202020202020202020202020202020202020202010101010101010101010102020202020202020101010101010101010101010101010101010101010101010101010101010101010101010101010101010102020202020202020202020202020202020202020202020202020202020202020202020202010101010101010102020202020202020202020201010101010101010101010101010101010101010101010101010101010101010101010101010101010101020202020202020202020202020202020202020202020202020202020202020202020101010101010202020202020202020202020202020202010101010101010101010101010101010101010101010101010101010101010101010101010101010101010202020c0e0e1414140e0e0e0f020202020202020202020202020202020202020101010101010101020202020202020202020202020202020201010101010101010101010101010101010101010101010101010101010101010101010101010101010101020202111212121212121212100202020202020202020202020202020202020201010101010101010202020202020202020202020202020202010101010101010101010101010101010101010101010101010101010101010101010101010101010101010202021112121212121212121002020202020202020202020202020202020202010101010101010102020202020202020202020202020202020101010101010101010101010101010101010101010101010101010101010101010101010101010101010102020211121212121212121210020202020202020202020202020202020202020101010101010101020202020202020202020202020202020201010101010101010101010101010101010101010101010101010101010101010101010101010101010101020202111212121212121212100202020202020202020202020202020202020201010101010101010202020202020202020202020202020202010101010101010101010101010101010101010101010101010101010101010101010101010101010101010202021112121213121212121002020202020202020202020202020202020202010101010101010102020202020202020202020202020202010101010101010101010101010101010101010101010101010101010101010101010101010101010101010102020211121212121212121210020202020202020202020202020202020202020101010101010101020202020202020202020202020201010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101020202111212120d1212121210020202020202020202020202020202020202020101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101020202111212121212121212100202020202020202020202020202020202020201010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010202021112121212121212121002020202020202020202020202020202020202010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010102020211121212121212121210020202020202020202020202020202020202020101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101`, img`
        2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222
        2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222
        22............22222222222222222222222222222222222222222222222222222222222222222222222222222222222222
        22....2.......22222222222..............222222222222222222222222222222..........................22222
        22............222222222.................22222............222222222222..........................22222
        22............222222222.................22222............222222222222..........................22222
        22........2...22222222...................................222222222222..........................22222
        22............22222222..................22222............222222222222..........................22222
        22.2..........222............222222.....22222............222222222222..........................22222
        22.........2................22222222222222222............222222222222..........................22222
        22............222..........222222222222222222............222222222222..........................22222
        22............22222222.....222222222222222222............222222222222..........................22222
        22..2...2.....22222222.....222222222222222222............222222222222..........................22222
        22............22222222.....222222.......222222...........222222222222..........................22222
        22............22222222.....222222........222222..........222222222222..........................22222
        2222222222222222222222.....222222.........222222222222222222222222222..........................22222
        2222222222222222222222.....222222..........22222222222222222222222222..........................22222
        2222222222222222222222......22222...........2222222222222222222222222..........................22222
        2222222222222222222222......222222..........22222222222222222222222222222222222222222222222222222222
        2222222222222222222222......222222...........2222222222222222222222222222222222222222222222222222222
        2222222222222222222222......222222...........2222222222222222222222222222222222222222222222222222222
        222222.......2222222222.....222222............222222222222222222222222222222222222222222222222222222
        2222...........22222222.....222222............222222222222222222222222222222222222222222222222222222
        2222............2222222.....222222.............22222222222222222222222222222222222222222222222222222
        222...............22222.....222222.............22222222222222222222222222222222222222222222222222222
        222................2222.....222222.............22222222222222222222222222222222222222222222222222222
        222..................22.....222222.............22222222222222222222222222222222222222222222222222222
        222......2..................2222222............22222222222222222222222222222222222222222222222222222
        222......222................2222222..........2222222222222222222222222222222222222222222222222222222
        22222222222222..............22222222.........2222222222222222222222222222222222222222222222222222222
        2222222.2222222.............222222222222222222222222222222222222222222222222222222222222222222222222
        2222222.222222222...........222222222222222222222222222222222222222222222222222222222222222222222222
        2222222.22222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222
        2222222.22222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222
        2222222.22222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222
        2222222.2222222222222222222222222222222222222222222.....22222222222222222222222222222222222222222222
        22222...........22222222222222222222222222222222222......2222222222222222222222222222222222222222222
        2222..............222222222222222222222222222222222......2222222222222222222222222222222222222222222
        22...................222222222222222222222222222222......2222222222222222222222222222222222222222222
        2.....................222222222222.........22222222......2222222222222222222222222222222222222222222
        .......................2222222..............2222222......2222222222222222222222222222222222222222222
        ........................2222................2222222......2222222222222222222222222222222222222222222
        ............................................22222222.....2222222222222222222222222222222222222222222
        ............................................2222222......2222222222222222222222222222222222222222222
        ............................................222222.......2222222222222222222222222222222222222222222
        ............................................222222.......2222222222222222222222222222222222222222222
        ......................................22222222222........2222222222222222222222222222222222222222222
        .....................................22222222............2222222222222222222222222222222222222222222
        ..................................222222.................2222222222222222222222222222222222222222222
        ...222...2222...................22222222.................2222222222222222222222222222222222222222222
        ...2........2...................22222222.................2222222222222222222222222222222222222222222
        ...2........2...................22222222.................2222222222222222222222222222222222222222222
        ...2........2...................22222222.................2222222222222222222222222222222222222222222
        ...2........2...................22222222.................2222222222222222222222222222222222222222222
        ...2........2...................22222222................22222222222222222222222222222222222222222222
        ...2........2...................22222222..............2222222222222222222222222222222222222222222222
        ...2........2...................22222222222222222222222222222222222222222222222222222222222222222222
        ...2........2...................22222222222222222222222222222222222222222222222222222222222222222222
        ...2........2...................22222222222222222222222222222222222222222222222222222222222222222222
        ...2........2...................22222222222222222222222222222222222222222222222222222222222222222222
        `, [myTiles.transparency16,sprites.builtin.forestTiles2,sprites.castle.tileGrass1,sprites.castle.tileGrass2,myTiles.tile6,sprites.builtin.forestTiles21,sprites.builtin.forestTiles23,myTiles.tile7,myTiles.tile9,myTiles.tile10,myTiles.tile4,sprites.dungeon.floorLight2,sprites.dungeon.greenOuterNorthWest,sprites.dungeon.floorDarkDiamond,sprites.dungeon.greenOuterNorth0,sprites.dungeon.greenOuterNorthEast,sprites.dungeon.greenOuterEast0,sprites.dungeon.greenOuterWest0,sprites.dungeon.floorDark2,sprites.dungeon.floorDark0,sprites.dungeon.floorMixed,sprites.castle.tileGrass3,sprites.castle.tileDarkGrass3], TileScale.Sixteen)))
    for (let value of tiles.getTilesByType(myTiles.tile6)) {
        tiles.setTileAt(value, img`
            7 7 7 7 7 7 6 6 6 6 7 7 7 7 7 7 
            7 7 7 7 7 c 6 7 7 6 c 7 7 7 7 7 
            7 7 7 7 c 6 7 5 7 7 6 c 7 7 7 7 
            7 7 6 6 c c 6 5 5 6 c c 6 6 7 7 
            6 6 6 5 5 5 6 7 5 6 5 5 7 6 6 6 
            6 6 7 7 7 5 7 6 7 5 5 7 7 7 7 6 
            7 c c c 6 6 7 6 6 5 7 6 c c 6 7 
            6 c 6 6 6 6 6 c c 6 6 6 6 6 c 6 
            6 6 7 7 7 c c c c c c 7 7 7 6 6 
            6 7 7 7 6 6 c c c c 6 6 7 7 7 6 
            c 6 c c 6 7 6 c c 6 7 6 c c 6 c 
            7 c c 5 5 7 6 7 7 6 7 5 5 c c 7 
            7 c 6 7 5 5 6 7 7 6 5 5 7 6 c 7 
            7 6 6 7 7 6 6 5 5 6 6 7 7 6 6 7 
            7 7 6 6 6 6 c 6 7 6 c 6 6 6 7 7 
            7 7 7 6 6 c 7 6 6 6 7 c 6 7 7 7 
            `)
    }
    for (let value of tiles.getTilesByType(sprites.dungeon.floorDarkDiamond)) {
        thestare = sprites.create(img`
            . . . . 5 5 . . . . 
            . . . 5 5 5 5 . . . 
            . . 5 5 5 5 5 5 . . 
            . 5 5 5 5 5 5 5 5 . 
            5 5 5 f 5 5 f 5 5 5 
            5 . 5 f 5 5 f 5 . 5 
            . . 5 5 5 5 5 5 . . 
            . . 5 5 5 5 5 5 . . 
            . 5 5 . . . . 5 5 . 
            5 5 . . . . . . 5 5 
            `, SpriteKind.star1)
        tiles.placeOnTile(thestare, value)
    }
    for (let value of tiles.getTilesByType(myTiles.tile9)) {
        therod = sprites.create(img`
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . a . . . . . . . . 
            . . . . . . a a a . . . . . . . 
            . . . . . . 5 a 5 . . . . . . . 
            . . . . . . 5 5 5 . . . . . . . 
            . . . . . . . 5 . . . . . . . . 
            . . . . . . . 5 . . . . . . . . 
            . . . . . . . 5 . . . . . . . . 
            . . . . . . . 5 . . . . . . . . 
            . . . . . . . 5 . . . . . . . . 
            . . . . . . . 5 . . . . . . . . 
            . . . . . . . 5 . . . . . . . . 
            `, SpriteKind.rod)
        tiles.placeOnTile(therod, tiles.locationInDirection(value, CollisionDirection.Top))
    }
    tiles.placeOnTile(perplecat, tiles.getTileLocation(3, 3))
    cat = sprites.create(img`
        4 4 . . 4 4 
        4 4 . . 4 4 
        4 4 4 4 4 4 
        4 f 4 4 f 4 
        4 f 4 4 f 4 
        . 4 4 4 4 . 
        4 4 4 4 4 4 
        4 4 1 1 4 4 
        4 4 1 1 4 4 
        4 4 1 1 4 4 
        . 4 4 4 4 . 
        . 4 . . 4 . 
        `, SpriteKind.cat1)
    tiles.placeOnTile(cat, tiles.getTileLocation(8, 28))
}
let cat: Sprite = null
let therod: Sprite = null
let thestare: Sprite = null
let myEnemy: Sprite = null
let projectile: Sprite = null
let battle = false
let x = 0
let perplecat: Sprite = null
start()
game.onUpdateInterval(1000, function () {
    if (sprites.readDataBoolean(perplecat, "go")) {
        story.spriteSayText(thestare, "help", 15, 1)
    }
})
